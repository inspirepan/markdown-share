<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Markdown Editor</title>
  <meta name="description" content="A minimalist, shareable Markdown editor that saves content in the URL.">
  
  <!-- CodeMirror 5 CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css">
  <!-- Themes -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/neo.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/ayu-dark.min.css">
  
  <style>
    body, html {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      background-color: #ffffff;
      transition: background-color 0.3s;
    }

    #editor {
      width: 100%;
      height: 100%;
      font-size: 16px;
      line-height: 1.6;
    }

    /* CodeMirror Configuration */
    .CodeMirror {
      width: 100%;
      height: 100%;
      font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
      padding: 20px 5vw; /* Padding for the writing area */
      box-sizing: border-box;
      background: transparent;
    }
    
    .CodeMirror-scroll {
        padding-bottom: 50px;
    }

    /* Hybrid Mode Styling (Making headers look like headers) */
    .cm-header-1 { font-size: 2.0em; line-height: 1.2; font-weight: bold; }
    .cm-header-2 { font-size: 1.6em; line-height: 1.2; font-weight: bold; }
    .cm-header-3 { font-size: 1.3em; line-height: 1.2; font-weight: bold; }
    .cm-strong { font-weight: bold; }
    .cm-em { font-style: italic; }
    .cm-link { text-decoration: underline; opacity: 0.7; }
    .cm-url { opacity: 0.5; }
    .cm-quote { font-style: italic; color: #777; border-left: 4px solid #ddd; padding-left: 10px; }

    /* Dark Mode Adjustments */
    @media (prefers-color-scheme: dark) {
      body {
        background-color: #0b0e14; /* Match ayu-dark bg */
      }
      .cm-quote { border-left-color: #444; color: #999; }
    }
    
    /* Error Display */
    #error-display {
      position: fixed; top: 0; left: 0; width: 100%;
      background: #ffebee; color: #c62828; padding: 10px;
      z-index: 9999; display: none;
    }
  </style>
</head>
<body>
  <div id="error-display"></div>
  <div id="editor"></div>

  <!-- Dependencies -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/markdown/markdown.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/edit/closebrackets.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/selection/active-line.min.js"></script>

  <!-- Main Logic -->
  <script src="main.js"></script>
</body>
</html>
